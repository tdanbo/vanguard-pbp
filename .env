# ============================================
# SHARED ENVIRONMENT VARIABLES
# ============================================
# This file is used by both frontend and backend.
# Copy to .env and fill in your values.
# NEVER commit .env to git - only .env.example
# ============================================

# --------------------------------------------
# SERVER CONFIGURATION (Backend)
# --------------------------------------------
PORT=8080
GIN_MODE=debug                    # Use "release" in production

# --------------------------------------------
# SUPABASE CONFIGURATION (Both)
# --------------------------------------------
# Get these from: Supabase Dashboard > Settings > API


# Supabase Configuration
SUPABASE_URL=http://127.0.0.1:54321
SUPABASE_PUBLISHABLE_KEY=sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH
# For local dev, use the JWT-format service role key (required for Storage API)
SUPABASE_SECRET_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# JWKS URL - only needed for production (RS256 tokens)
# Local Supabase uses HS256, so leave this commented out for local dev
# SUPABASE_JWKS_URL=http://127.0.0.1:54321/auth/v1/.well-known/jwks.json

# JWT secret for local development (HS256 verification)
SUPABASE_JWT_SECRET=super-secret-jwt-token-with-at-least-32-characters-long

# Frontend uses VITE_ prefix (Vite exposes these to the browser)
# Note: Vite doesn't support ${VAR} interpolation - values must be explicit
VITE_SUPABASE_URL=http://127.0.0.1:54321
VITE_SUPABASE_PUBLISHABLE_KEY=sb_publishable_ACJWlzQHlZjBrEguHvfOxg_3BJgxAaH

# --------------------------------------------
# DATABASE (Backend only)
# --------------------------------------------
# Get from: Supabase Dashboard > Settings > Database > Connection string
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres

DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# --------------------------------------------
# CORS CONFIGURATION (Backend)
# --------------------------------------------
# Comma-separated list of allowed origins
# Include your frontend URL(s)

CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# --------------------------------------------
# API CONFIGURATION (Frontend)
# --------------------------------------------
# URL where the backend API is running

VITE_API_URL=http://localhost:8080

# --------------------------------------------
# RATE LIMITING (Backend)
# --------------------------------------------

RATE_LIMIT_ENABLED=true

# --------------------------------------------
# EMAIL CONFIGURATION (Backend)
# --------------------------------------------
# Choose ONE provider and configure accordingly.
# See "Email Service Setup" section below for details.

# Provider selection: "supabase" | "resend" | "smtp"
EMAIL_PROVIDER=resend
RESEND_API_KEY=re_Lw2UXTFX_E65WoiSnayhdzffhT2KHPhRj
EMAIL_FROM=noreply@vanguard-pbp.com

# --------------------------------------------
# OAUTH CONFIGURATION (Supabase Auth)
# --------------------------------------------
# Get from Google Cloud Console and Discord Developer Portal

GOOGLE_CLIENT_SECRET=
DISCORD_CLIENT_SECRET=

# --------------------------------------------
# FEATURE FLAGS (Frontend, optional)
# --------------------------------------------

VITE_ENABLE_OAUTH=true

# --------------------------------------------
# OAUTH CONFIGURATION (Supabase Auth)
# --------------------------------------------
# Get from Google Cloud Console and Discord Developer Portal

GOOGLE_CLIENT_SECRET=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
DISCORD_CLIENT_SECRET=8LmPTiQldw-3gWsyVQ2SBJI20uIxiFG1
